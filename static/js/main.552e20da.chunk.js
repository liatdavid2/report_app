(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,a){},38:function(e,t,a){e.exports=a(75)},72:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(20),s=a.n(o),r=a(13),c=a(14),i=a(35),u=a.n(i),m=a(15),d=a(3),p=a.n(d),h={fetching:!1,fetched:!1,ConversionTableFields:[],data4:[],object_fields:[],tamplate:"",error:null,tampletes_name:[]};var g={fetching:!1,fetched:!1,part_tamplate:"",error:null};var y=Object(c.c)({HttpReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ERROR":return Object(m.a)({},e,{fetching:!1,error:t.payload});case"GET_CONVERSION_TABLE":return console.log(t.payload.data),Object(m.a)({},e,{fetching:!1,fetched:!0,ConversionTableFields:t.payload.data});case"GET_TAMPLETS_NAMES":return console.log(t.payload.data),Object(m.a)({},e,{fetching:!1,fetched:!0,tampletes_name:t.payload.data});case"GET_TAMPLETE":return Object(m.a)({},e,{fetching:!1,fetched:!0,tamplate:t.payload.data});case"RECIVE_USERS4":return Object(m.a)({},e,{fetching:!1,fetched:!0,data4:t.payload.data})}return e},PartTemplateHttpReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ERROR":return Object(m.a)({},e,{fetching:!1,error:t.payload});case"GET_PART_TAMPLETE":return console.log(t.payload.data),Object(m.a)({},e,{fetching:!1,fetched:!0,part_tamplate:t.payload.data})}return e}}),v=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,_=Object(c.e)(y,v(Object(c.a)(u.a))),f=a(84),b=a(86),E=a(85),k=a(7),T=a(8),C=a(10),O=a(9),w=a(11),N=a(16),S=a(18),P=a.n(S),j=a(21),R=a(1),I="http://reportjavaapp-env.eba-iuq3zppe.us-east-2.elasticbeanstalk.com/api/reportApp/";function Q(e){return function(t){p.a.get(e).then(function(e){console.log(e),t({type:"GET_TAMPLETE",payload:e})}).catch(function(e){t({type:"FETCH_ERROR",payload:e})})}}var L=a(17),D=a.n(L),B=a(19);a(69);var A=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(C.a)(this,Object(O.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(R.a)(Object(R.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(R.a)(Object(R.a)(a))),a}return Object(w.a)(t,e),Object(T.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(N.a)({},t,a)),this.setState(function(e){return{DBname:e.DBname1+"."+e.DBname2+"."+e.DBname3}}),console.log(this.state)}},{key:"handleSubmit",value:function(e){void 0!==this.state.DBname1&&void 0!==this.state.DBname2&&void 0!==this.state.DBname3||alert("Your missed one of the values"),console.log(this.state),this.props.SubmitQuery(this.state)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("input",{placeholder:"\u05d4\u05db\u05e0\u05e1 \u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4 \u05d1\u05e2\u05d1\u05e8\u05d9\u05ea",onChange:this.handleChange,name:"HebrewCategory"}),l.a.createElement("input",{placeholder:"\u05d4\u05db\u05e0\u05e1 \u05e9\u05dd \u05e2\u05d1\u05e8\u05d9",onChange:this.handleChange,name:"Hebrewname"}),l.a.createElement("input",{placeholder:"\u05d4\u05db\u05e0\u05e1 \u05e9\u05dd \u05d8\u05d1\u05dc\u05d4 (\u05d0\u05e0\u05d2\u05dc\u05d9\u05ea)",onChange:this.handleChange,name:"DBname1"}),l.a.createElement("input",{placeholder:"\u05d4\u05db\u05e0\u05e1 \u05e9\u05dd \u05e2\u05de\u05d5\u05d3\u05d4 (\u05d0\u05e0\u05d2\u05dc\u05d9\u05ea)",onChange:this.handleChange,name:"DBname2"}),l.a.createElement("input",{placeholder:"\u05d4\u05db\u05e0\u05e1 \u05ea\u05e0\u05d0\u05d9(\u05d0\u05e0\u05d2\u05dc\u05d9\u05ea)",onChange:this.handleChange,name:"DBname3"}),l.a.createElement("button",{className:"grayBtn",onClick:function(){return e.handleSubmit()}},"\u05d4\u05db\u05e0\u05e1 \u05e2\u05e8\u05da \u05dc\u05d8\u05d1\u05dc\u05ea \u05d4\u05de\u05e8\u05d4"))}}]),t}(l.a.Component),F=(Object(r.b)(function(e,t){return console.log(e),{ConversionTableFields:e.HttpReducer.ConversionTableFields}},function(e,t){return{SubmitQuery:function(t){e(function(e,t){console.log(e);var a={hebrew_Category:e.HebrewCategory,Hebrewname:e.Hebrewname,db_name:e.DBname};p.a.post(I+"InsertQuery",a).then(function(e){console.log(e),p.a.get("http://localhost:3000/data.json").then(function(e){})}).catch(function(e){})}(t))}}})(A),function(e){function t(e){var a;Object(k.a)(this,t),a=Object(C.a)(this,Object(O.a)(t).call(this,e));Object(R.a)(Object(R.a)(a));return a.state={tables:[],selected_values:{}},a.change=a.change.bind(Object(R.a)(Object(R.a)(a))),a}return Object(w.a)(t,e),Object(T.a)(t,[{key:"ClearPartQuery",value:function(){var e=document.getElementsByTagName("select");console.log(e);for(var t=0;t<e.length;t++)e[t].value="";console.log("alerrrttttt 77777")}},{key:"componentWillReceiveProps",value:function(e){this.make_select_options_from_arr(e)}},{key:"make_select_options_from_arr",value:function(e){var t=this.make_select_option_from_arr(e.QueryParts.tables),a=this.make_select_option_from_arr(e.QueryParts.columns);this.setState({tablesList:t,columnsList:a}),console.log(this.state)}},{key:"make_select_option_from_arr",value:function(e){return e.map(function(e,t){return l.a.createElement("option",{key:t,value:e},e)})}},{key:"componentWillMount",value:function(){this.make_select_options_from_arr(this.props)}},{key:"RemoveLine",value:function(e){console.log(this),this.props.RemoveQueryPart(this.props.id)}},{key:"change",value:function(e){console.log(this);var t=this.state.selected_values;t[e.target.name]=e.target.value,console.log(t),this.setState({selected_values:t}),this.props.SavePartQueryChanges(t,this.props.id)}},{key:"render",value:function(){var e=this;return console.log(this.props),console.log(this.state),l.a.createElement("div",null,0!==this.props.id?l.a.createElement("select",{className:"width100",name:"Or_And",defaultValue:"",onChange:this.change},l.a.createElement("option",{value:""},"\u05d1\u05d7\u05e8 \u05e7\u05d9\u05e9\u05d5\u05e8"),l.a.createElement("option",{value:"\u05d0\u05d5"},"\u05d0\u05d5"),l.a.createElement("option",{value:"\u05d5\u05d2\u05dd"},"\u05d5\u05d2\u05dd")):"",l.a.createElement("select",{className:"width100",name:"Tables",defaultValue:"",onChange:this.change},l.a.createElement("option",{value:"",disabled:!0},"\u05d1\u05d7\u05e8 \u05d8\u05d1\u05dc\u05d4"),this.state.tablesList),l.a.createElement("select",{className:"width100",name:"Columns",defaultValue:"",onChange:this.change},l.a.createElement("option",{value:"",disabled:!0},"\u05d1\u05d7\u05e8 \u05e2\u05de\u05d5\u05d3\u05d4"),this.state.columnsList),l.a.createElement("select",{className:"width100",name:"Actions",onChange:this.change,defaultValue:""},l.a.createElement("option",{value:"",disabled:!0},"\u05d1\u05d7\u05e8 \u05e4\u05e2\u05d5\u05dc\u05d4"),l.a.createElement("option",{value:">"},">"),l.a.createElement("option",{value:"<"},"<"),l.a.createElement("option",{value:"="},"="),l.a.createElement("option",{value:"="},"!=")),l.a.createElement("input",{className:"width100",placeholder:"\u05d4\u05db\u05e0\u05e1 \u05e2\u05e8\u05da",name:"Values",onChange:this.change}),l.a.createElement("button",{onClick:function(){return e.RemoveLine()}},"X"))}}]),t}(l.a.Component));window.$=D.a;var M=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(C.a)(this,Object(O.a)(t).call(this,e))).state={QueryParts:[],EntitiesListSelectedChange:"",Conditional_Formatting:{},arr_query_part_data:[]},a.handleEntitiesListSelectedChange=a.handleEntitiesListSelectedChange.bind(Object(R.a)(Object(R.a)(a))),a.SaveQueryChanges=a.SaveQueryChanges.bind(Object(R.a)(Object(R.a)(a))),a.ClearQuery=a.ClearQuery.bind(Object(R.a)(Object(R.a)(a))),a.SavePartQueryChanges=a.SavePartQueryChanges.bind(Object(R.a)(Object(R.a)(a))),a.handleConditional_FormattingListSelectedChange=a.handleConditional_FormattingListSelectedChange.bind(Object(R.a)(Object(R.a)(a))),a.makeQueryParts=a.makeQueryParts.bind(Object(R.a)(Object(R.a)(a))),a.RemoveQueryPart=a.RemoveQueryPart.bind(Object(R.a)(Object(R.a)(a))),a.QueryPartRef=l.a.createRef(),a}return Object(w.a)(t,e),Object(T.a)(t,[{key:"AddLine",value:function(){var e=this;this.setState(function(e,t){console.log(e);var a=e.QueryParts;return a.push(1),{QueryParts:a}},function(){e.makeQueryParts(e.props)})}},{key:"RemoveQueryPart",value:function(e){console.log(e);var t=e;console.log(t),console.log(this.state.QueryParts);var a=Object(B.a)(this.state.QueryParts);1==a.length?a=[]:a.splice(t,1),console.log(a);var n=Object(B.a)(this.state.arr_query_part_data);1==n.length?n=[]:n.splice(t,1),this.setState({arr_query_part_data:n}),console.log(n);for(var l="Query:",o=0;o<n.length;o++)l+=this.handle_or_and(n[o])+n[o].Tables+"."+n[o].Columns+" "+n[o].Actions+" "+n[o].Values;console.log(l),this.setState({popUpMakeQuery:l}),this.setState({QueryParts:a})}},{key:"componentDidMount",value:function(){}},{key:"makeQueryParts",value:function(e){var t=this;console.log(e);var a=this.state.QueryParts.map(function(a,n){return l.a.createElement(F,{key:n,QueryParts:e.QueryFields,id:n,SavePartQueryChanges:t.SavePartQueryChanges,RemoveQueryPart:t.RemoveQueryPart,ref:t.QueryPartRef})});this.setState({QueryParts:a})}},{key:"SaveQueryChanges",value:function(){console.log("SaveQueryChanges",this.state),this.props.SaveQueryChanges(this.state.popUpMakeQuery)}},{key:"ClearQuery",value:function(){var e=this,t=this;this.setState({Conditional_Formatting:[]}),this.setState({popUpMakeQuery:""}),console.log(document.getElementsByTagName("select")[0]);var a=document.getElementsByTagName("select");console.log(a);for(var n=0;n<a.length;n++)a[n].value="";document.getElementsByTagName("input")[0].value="",setTimeout(function(){t.props.SaveQueryChanges(e.state.popUpMakeQuery)},500);var l=Object(B.a)(this.state.QueryParts);console.log(this.state.QueryParts);for(var o=0;o<this.state.QueryParts.length;o++){if(1==l.length){l=[];break}l.splice(o,1)}this.setState({QueryParts:l}),console.log(this.state.QueryParts,l)}},{key:"handle_or_and",value:function(e){return void 0===e.Or_And?"":" "+e.Or_And+" "}},{key:"SavePartQueryChanges",value:function(e,t){console.log(e,t);var a=Object(B.a)(this.state.arr_query_part_data);a[t]=e,this.setState({arr_query_part_data:a}),console.log(a);for(var n="Query:",l=0;l<a.length;l++)n+=this.handle_or_and(a[l])+a[l].Tables+"."+a[l].Columns+" "+a[l].Actions+" "+a[l].Values;console.log(n),n.includes("undefined")?this.setState({popUpMakeQuery:"\u05d0\u05d6\u05d4\u05e8\u05d4: \u05dc\u05d0 \u05db\u05dc \u05e9\u05d3\u05d5\u05ea \u05d4\u05e9\u05d0\u05d9\u05dc\u05ea\u05d4 \u05e0\u05d1\u05d7\u05e8\u05d5!"}):this.setState({popUpMakeQuery:n})}},{key:"componentWillReceiveProps",value:function(e){console.log(e),this.make_select_options_from_arr(e),void 0!==e.QueryFields&&(console.log(e.QueryFields),this.makeQueryParts(e))}},{key:"make_select_options_from_arr",value:function(e){console.log(e.QueryFields.entities);var t=this.make_select_option_from_arr(e.QueryFields.entities),a=this.make_select_option_from_arr(e.QueryFields.tables),n=this.make_select_option_from_arr(e.QueryFields.columns);this.setState({entitiesList:t,tablesList:a,columnsList:n})}},{key:"make_select_option_from_arr",value:function(e){return e.map(function(e,t){return l.a.createElement("option",{key:t,value:e},e)})}},{key:"handleEntitiesListSelectedChange",value:function(e){this.setState({popUpMakeQuery:"Entity_Query:"+e.target.value})}},{key:"handleConditional_FormattingListSelectedChange",value:function(e){var t=this.state.Conditional_Formatting;t[e.target.name]=e.target.value,this.setState({Conditional_Formatting:t}),t.Tables&&t.Columns&&t.Actions&&t.Values?this.setState({popUpMakeQuery:"Conditional_Formatting:"+t.Tables+"."+t.Columns+" "+t.Actions+" "+t.Values}):this.setState({popUpMakeQuery:"\u05d0\u05d6\u05d4\u05e8\u05d4: \u05dc\u05d0 \u05db\u05dc \u05e9\u05d3\u05d5\u05ea \u05d4\u05e9\u05d0\u05d9\u05dc\u05ea\u05d4 \u05e0\u05d1\u05d7\u05e8\u05d5!"})}},{key:"render",value:function(){var e=this;return console.log(this.props),console.log(this.state),l.a.createElement("div",null,l.a.createElement("div",{className:"modal fade",style:{display:"none"},id:"QueryModal",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog  modal-lg",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"}," \u05d4\u05db\u05df \u05e9\u05d0\u05d9\u05dc\u05ea\u05d4")),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"container"},l.a.createElement("ul",{className:"nav nav-tabs",role:"tablist"},l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link active","data-toggle":"tab",href:"#home"},"\u05d9\u05d9\u05e9\u05d5\u05ea \u05e1\u05e4\u05e6\u05d9\u05e4\u05d9\u05ea")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#menu1"},"\u05e9\u05d0\u05d9\u05dc\u05ea\u05d4 \u05db\u05dc\u05dc\u05d9\u05ea")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link","data-toggle":"tab",href:"#menu2"},"\u05e2\u05d9\u05e6\u05d5\u05d1 \u05de\u05d5\u05ea\u05e0\u05d4"))),l.a.createElement("div",{className:"tab-content"},l.a.createElement("div",{id:"home",className:"container tab-pane active"},l.a.createElement("br",null),l.a.createElement("h5",null,"\u05e9\u05d0\u05d9\u05dc\u05ea\u05d4 \u05e2\u05dc \u05d9\u05d9\u05e9\u05d5\u05ea \u05e1\u05e4\u05e6\u05d9\u05e4\u05d9\u05ea"),l.a.createElement("select",{onChange:this.handleEntitiesListSelectedChange,defaultValue:""},l.a.createElement("option",{value:"",disabled:!0},"\u05d1\u05d7\u05e8 \u05d9\u05d9\u05e9\u05d5\u05ea"),this.state.entitiesList)),l.a.createElement("div",{id:"menu1",className:"container tab-pane fade"},l.a.createElement("br",null),l.a.createElement("h5",null,"\u05e9\u05d0\u05d9\u05dc\u05ea\u05d4 \u05db\u05dc\u05dc\u05d9\u05ea"),l.a.createElement("button",{onClick:function(){return e.AddLine()}},"+"),this.state.QueryParts),l.a.createElement("div",{id:"menu2",className:"container tab-pane fade"},l.a.createElement("br",null),l.a.createElement("h5",null,"\u05e2\u05d9\u05e6\u05d5\u05d1 \u05de\u05d5\u05ea\u05e0\u05d4"),"\u05d1\u05d7\u05e8 \u05ea\u05e0\u05d0\u05d9 \u05dc\u05e2\u05d9\u05e6\u05d5\u05d1 \u05de\u05d5\u05ea\u05e0\u05d4",l.a.createElement("select",{className:"width100",name:"Tables",onChange:this.handleConditional_FormattingListSelectedChange,defaultValue:""},l.a.createElement("option",{value:"",disabled:!0},"\u05d1\u05d7\u05e8 \u05d8\u05d1\u05dc\u05d4"),this.state.tablesList),l.a.createElement("select",{className:"width100",name:"Columns",onChange:this.handleConditional_FormattingListSelectedChange,defaultValue:""},l.a.createElement("option",{value:"",disabled:!0},"\u05d1\u05d7\u05e8 \u05e2\u05de\u05d5\u05d3\u05d4"),this.state.columnsList),l.a.createElement("select",{className:"width100",name:"Actions",onChange:this.handleConditional_FormattingListSelectedChange,defaultValue:""},l.a.createElement("option",{value:"",disabled:!0},"\u05d1\u05d7\u05e8 \u05e4\u05e2\u05d5\u05dc\u05d4"),l.a.createElement("option",{value:">"},">"),l.a.createElement("option",{value:"<"},"<"),l.a.createElement("option",{value:"="},"="),l.a.createElement("option",{value:"="},"!=")),l.a.createElement("input",{className:"width100",name:"Values",placeholder:"\u05d4\u05db\u05e0\u05e1 \u05e2\u05e8\u05da",onChange:this.handleConditional_FormattingListSelectedChange})))),l.a.createElement("div",{style:{float:"left"}},l.a.createElement("button",{type:"button",className:"btn btn-primary save_changes",onClick:this.SaveQueryChanges,"data-dismiss":"modal"},"\u05e9\u05de\u05d5\u05e8 \u05e9\u05d9\u05e0\u05d5\u05d9\u05d9\u05dd"),l.a.createElement("button",{type:"button",className:"btn btn-primary save_changes",onClick:this.ClearQuery,"data-dismiss":"modal"},"\u05de\u05d7\u05e7 \u05e9\u05d0\u05d9\u05dc\u05ea\u05d4"),l.a.createElement("button",{type:"button",className:"btn closeBtn","data-dismiss":"modal"},"\u05e1\u05d2\u05d5\u05e8")))))))}}]),t}(l.a.Component),H=Object(r.b)(function(e,t){return console.log(e.PartTemplateHttpReducer.part_tamplate),e.PartTemplateHttpReducer.part_tamplate,{}},function(e,t){return{}})(M),U=(a(32),function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(C.a)(this,Object(O.a)(t).call(this,e))).state={open:!1},a}return Object(w.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"row"},l.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-light bg-light"},l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown"},l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement("li",{className:"nav-item dropdown"},l.a.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdownMenuLink2",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"\u05d8\u05de\u05e4\u05dc\u05d8 \u05dc\u05d8\u05d5\u05e4\u05e1"),l.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink2"},l.a.createElement("a",{className:"dropdown-item",href:"#"},"\u05d4\u05d5\u05e1\u05e3 \u05d8\u05de\u05e4\u05dc\u05d8 \u05d7\u05d3\u05e9"),l.a.createElement("a",{className:"dropdown-item",href:"#"},"\u05de\u05d7\u05e7 \u05d8\u05de\u05e4\u05dc\u05d8"),l.a.createElement("a",{className:"dropdown-item",href:"#"},"\u05e2\u05e8\u05d5\u05da \u05d8\u05de\u05e4\u05dc\u05d8 \u05e7\u05d9\u05d9\u05dd"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"#"},"\u05e2\u05e8\u05d5\u05da")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"#"},"\u05d4\u05db\u05e0\u05e1")),l.a.createElement("li",{className:"nav-item dropdown"},l.a.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdownMenuLink",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"\u05d7\u05dc\u05e7 \u05d8\u05d5\u05e4\u05e1"),l.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink"},l.a.createElement("a",{className:"dropdown-item",href:"#"},"\u05d4\u05d5\u05e1\u05e3 \u05d7\u05dc\u05e7 \u05d8\u05d5\u05e4\u05e1 \u05d7\u05d3\u05e9"),l.a.createElement("a",{className:"dropdown-item",href:"#"},"\u05de\u05d7\u05e7 \u05d7\u05dc\u05e7 \u05d8\u05d5\u05e4\u05e1"),l.a.createElement("a",{className:"dropdown-item",href:"#"},"\u05e2\u05e8\u05d5\u05da \u05d7\u05dc\u05e7 \u05d8\u05d5\u05e4\u05e1"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"#"},"\u05e1\u05d3\u05e8")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"#"},"\u05ea\u05e6\u05d5\u05d2\u05d4")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"#"},"\u05d7\u05dc\u05d5\u05df"))))))}}]),t}(l.a.Component));a(72);window.$=D.a;var G={},K=[4,4,4,4],V=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(C.a)(this,Object(O.a)(t).call(this,e))).handPopUpInsertNewTemplate=function(){a.setState({openPopUPTampleteName:!0})},a.handleClickOpenPopUpPartTemplete=function(){a.setState({openPopUpPartTemplete:!0})},a._handleLayoutChange=function(e){console.log(e.target.value),a.setState({layout_number:e.target.value}),a.changeLayout(e.target.value)},a.handleClosePartTemplete=function(){a.setState({ClosePartTemplete:!1})},a.handleClose=function(){a.setState({openPopUPTampleteName:!1})},a.displayDroppableContacts=function(){a.setState({displayDroppableContact:!0}),console.log("displayDroppableContacts",a.displayDroppableContact)},a.displayDataContacts=function(){a.setState({displayDroppableContact:!1})},a.onDrop=function(e){console.log(e)},a.state={tamplate:"",ConversionTableFields:[],TampleteNameList:[],openPopUPTampleteName:!1,selected_file_name:"",layout_number:"4",fieldPerTable:[],displayDroppableContact:!1,dragData:"",Condition:" ",SelectLayoutPartFormAdd:1,openPopUpPartTemplete:!1,queryString:"",popUpMakeQuery:""},a.handPopUpInsertNewTemplate=a.handPopUpInsertNewTemplate.bind(Object(R.a)(Object(R.a)(a))),a.updateTamplete=a.updateTamplete.bind(Object(R.a)(Object(R.a)(a))),a.deleteTamplete=a.deleteTamplete.bind(Object(R.a)(Object(R.a)(a))),a.SaveJsonTamplete=a.SaveJsonTamplete.bind(Object(R.a)(Object(R.a)(a))),a.handleClickOpenPopUpPartTemplete=a.handleClickOpenPopUpPartTemplete.bind(Object(R.a)(Object(R.a)(a))),a._handleLayoutChange=a._handleLayoutChange.bind(Object(R.a)(Object(R.a)(a))),a._handleTemplateChange=a._handleTemplateChange.bind(Object(R.a)(Object(R.a)(a))),a.textInput=l.a.createRef(),a.handleChange=a.handleChange.bind(Object(R.a)(Object(R.a)(a))),a.AddPartForm=a.AddPartForm.bind(Object(R.a)(Object(R.a)(a))),a.SaveQueryChanges=a.SaveQueryChanges.bind(Object(R.a)(Object(R.a)(a))),a}return Object(w.a)(t,e),Object(T.a)(t,[{key:"ReturnLastRowTdCounterInTable",value:function(e){var t=e.match(/<tr(?:.|\n)*?tr>/gm),a=t[t.length-1].match(/<td(?:.|\n)*?td>/gm);return console.log("tdInLastRow",a),a}},{key:"fillTableFromTampleteAndTable",value:function(e,t){return console.log("numColumns "+e+" rowsData "+t),this.makeTableRows(t,e)}},{key:"searchAllFieldsInTable",value:function(e){var t=e.match(/\[(.*?)\]/g);if(null!==t){for(var a=0;a<t.length;a++)t[a]=t[a].replace(/\[/g,""),t[a]=t[a].replace(/\]/g,"");return console.log("searchAllFieldsInTable",t),t}return t=[]}},{key:"ReturnLastRowInTable",value:function(e){if(null!==e){var t=e.match(/<tr(?:.|\n)*?tr>/gm);return console.log(t),t[t.length-1]}}},{key:"fillDataOneEditor",value:function(e,t,a){var n=t.match(/<table(?:.|\n)*?table>/gm);console.log("splitTables"+a,n),null!==n&&this.makeOneTable(e,n,t,a)}},{key:"sparateByTable",value:function(){}},{key:"cutAfter",value:function(e){var t=e.parentNode.parentNode;if(e.nextElementSibling){t.insertAdjacentHTML("afterend","<table><tbody></tbody></table>");for(var a=t.nextElementSibling.tBodies[0];e.nextElementSibling;)a.appendChild(e.nextElementSibling)}}},{key:"gettablesFromEditors",value:function(){for(var e=[],t=1;t<=this.state.layout_number;t++){var a=window.CKEDITOR.instances["editor"+t].getData(),n=a.match(/<table(?:.|\n)*?table>/gm);console.log(a,n),null!==n&&(e=e.concat(n,n))}return e}},{key:"makeOneRowTable",value:function(e,t){}},{key:"fillDataAllEditors",value:function(e){console.log(e);var t=[],a=[];if(console.log("splitTablesAll",t),null!==t){var n=[];console.log("str tables",t);for(var l=0;l<t.length;l++)if(this.searchAllFieldsInTable(t[l]).length>0){n.push(this.ReturnLastRowInTable(t[l]));this.ReturnLastRowTdCounterInTable(t[l]);a.push(this.searchAllFieldsInTable(t[l]))}this.setState({fieldPerTable:a}),console.log(this.state.fieldPerTable);var o=e;console.log(o);for(var s=0,r=0;r<1;r++){var c=window.CKEDITOR.instances["editor"+(r+1)].getData(),i=c.match(/<table(?:.|\n)*?table>/gm);if(console.log(i),null!==i){console.log(c,this.state.layout_number,i);for(var u=0;u<i.length;u++)console.log(i[u].match(/\[(.*?)\]/g)),i[u].match(/\[(.*?)\]/g)||i.splice(u,1);console.log(i),console.log(o);for(var m=0;m<i.length;m++)console.log("splitTablesEditor.length",o[s]),c=c.replace(this.ReturnLastRowInTable(i[m]),this.fillTableFromTampleteAndTable(o[s].length,o[s])),s++,console.log(s);window.CKEDITOR.instances["editor"+(r+1)].setData(c)}}this.changeLayout(""+this.state.layout_number)}}},{key:"InPrintModeMakeQuery",value:function(){""!==this.props.tamplateName&&(this.state.Condition=this.props.Query)}},{key:"makeTables",value:function(){var e=this;setTimeout(function(){e.makeTableFromServer()},1e3)}},{key:"makeTableFromServer",value:function(){var e=this,t=this;console.log(this.state.fieldPerTable);for(var a={},n=[],l=0;l<1;l++){var o=window.CKEDITOR.instances["editor"+(l+1)].getData().match(/<table(?:.|\n)*?table>/gm);if(console.log(o),null!==o)for(var s=0;s<o.length;s++)console.log(o[s].match(/\[(.*?)\]/g)),n.push(o[s].match(/\[(.*?)\]/g)),o[s].match(/\[(.*?)\]/g)||o.splice(s,1)}console.log(n),this.setState({fieldPerTable:n}),console.log(this.state.fieldPerTable),""!==this.props.tamplateName?(a={fields:this.state.fieldPerTable,condition:this.props.Query},console.log(a)):a={fields:this.state.fieldPerTable,condition:this.state.popUpMakeQuery},p.a.post(I+"postFieldsReturnTable",a).then(function(a){console.log(e.state.fieldPerTable),t.changeLayout(""+t.state.layout_number),console.log("makeTableFromServer",a.data);var n=a.data;console.log(n),t.fillDataAllEditors(n)})}},{key:"makeTampleteNameList",value:function(e){var t=e.tampletes_name.map(function(e,t){return l.a.createElement("option",{key:t,value:e},e)});this.setState({TampleteNameList:t})}},{key:"componentWillReceiveProps",value:function(e){this.makeTampleteNameList(e)}},{key:"SaveJsonTamplete",value:function(e){console.log(e);for(var t=[],a=0;a<parseInt(this.state.layout_number);a++)t.push(window.CKEDITOR.instances["editor"+(a+1)].getData());var n={fileName:e,content:t,layout_number:parseInt(this.state.layout_number)},l=this;console.log(n),p.a.post("http://localhost:8000/App/api/reportApp/InsertTemplate",n).then(function(e){console.log(e),l.props.GetAllTemplatesNames()}).catch(function(e){})}},{key:"deleteTamplete",value:function(){var e=this;console.log(this.state.selected_file_name),p.a.delete(I+"DeleteTemplate",{data:this.state.selected_file_name}).then(function(t){console.log(t),e.props.GetAllTemplatesNames();for(var a=0;a<4;a++)window.CKEDITOR.instances["editor"+(a+1)].setData("")}).catch(function(e){})}},{key:"updateTamplete",value:function(e){console.log(e);var t=[];t.push(window.CKEDITOR.instances.editor1.getData()),t.push(window.CKEDITOR.instances.editor2.getData()),t.push(window.CKEDITOR.instances.editor3.getData()),t.push(window.CKEDITOR.instances.editor4.getData());var a=t;console.log(this.state.selected_file_name);var n={fileName:this.state.selected_file_name,content:a,layout_number:parseInt(this.state.layout_number)},l=this;p.a.put("http://localhost:8000/App/api/reportApp/UpdateTemplate",n).then(function(e){console.log(e),l.props.GetAllTemplatesNames()}).catch(function(e){})}},{key:"makeTableCell",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"white";return'<td style="background:'.concat(t,'"> ').concat(e," </td>")}},{key:"split",value:function(e,t){for(var a=D()("th",e).length-1,n=a/t,l=1;l<=n;l++){D()("<br/>").appendTo("body");for(var o=e.clone().appendTo("body"),s=a+1;s>1;s--)(s+t-1<=t*l||s>t*l+1)&&D()("td:nth-child("+s+"),th:nth-child("+s+")",o).remove()}}},{key:"makeTableRow",value:function(e,t){console.log(e);for(var a="<tr >",n=0;n<t;n++)void 0!==e[n]&&(a+=this.makeTableCell(e[n].value,e[n].color));return a+="</tr>",console.log(e),a}},{key:"makeTableRows",value:function(e,t){console.log(e);for(var a="",n=0;n<e.length;n++)a+=this.makeTableRow(e[n],t);return a}},{key:"make_one_editor",value:function(e){G[e]=window.CKEDITOR.replace(e,{extraPlugins:["print","sharedspace","image2","uploadwidget","uploadimage","justify","tableresize","font","colorbutton","tabletools","contextmenu","colordialog","pastefromexcel","clipboard","sourcedialog","justify","clipboard","pagebreak"],removePlugins:"floatingspace,maximize,resize,elementspath",sharedSpaces:{top:"top2"}})}},{key:"initCkEditor",value:function(){window.CKEDITOR.disableAutoInline=!0,window.CKEDITOR.config.removePlugins="elementspath";for(var e=["editor1"],t=0;t<e.length;t++)this.make_one_editor(e[t]);window.CKEDITOR.config.height="16cm",window.CKEDITOR.config.language="he"}},{key:"makeDrag",value:function(){var e=Object(j.a)(P.a.mark(function e(){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this,window.CKEDITOR.plugins.add("hcard",{requires:"widget"});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){console.log(document.getElementById("makeForm"));console.log("427",this),this.initCkEditor(),this.makeDrag(),this.props.GetAllTemplatesNames()}},{key:"GetTampleteFromDBEdit",value:function(e){var t=this;p.a.get(I+"GetTemplate?FileName="+e).then(function(e){console.log(e);var a=1;for(a=1;a<e.data.content.length+1;a++)window.CKEDITOR.instances["editor"+a].setData(e.data.content[a-1]);for(;a<4;a++)window.CKEDITOR.instances["editor"+a].setData("");t.setState({layout_number:""+e.data.layout_number}),t.changeLayout(""+e.data.layout_number)}).catch(function(e){})}},{key:"handleUI_print_or_edit_mode",value:function(){console.log(this.props.tamplateName)}},{key:"handlePrintModeUI",value:function(){for(var e=document.getElementsByClassName("hideInPrintMode"),t=0;t<e.length;t++)e[t].className+=" display_none";console.log(document.getElementsByClassName("widthCenter")),document.getElementsByClassName("widthCenter")[0].style.width="45.563cm"}},{key:"add_2_layout_classes",value:function(){var e=document.getElementsByTagName("iframe");console.log(e);for(var t=0;t<e.length;t++)e[t].classList.add("iframe_2_layout");null!==document.getElementById("cke_1_contents")&&(document.getElementById("cke_1_contents").style.height="35cm !important"),null!==document.getElementById("cke_2_contents")&&(document.getElementById("cke_2_contents").style.height="35cm !important"),null!==document.getElementById("cke_1_contents")&&document.getElementById("cke_1_contents").classList.add("inside_one_from_layout2"),null!==document.getElementById("cke_2_contents")&&document.getElementById("cke_2_contents").classList.add("inside_one_from_layout2"),null!==document.getElementById("cke_3_contents")&&document.getElementById("cke_3_contents").classList.add("inside_one_from_layout2"),null!==document.getElementById("cke_4_contents")&&document.getElementById("cke_4_contents").classList.add("inside_one_from_layout2")}},{key:"add_4_layout_classes",value:function(){var e=document.getElementsByTagName("iframe");console.log(e);for(var t=0;t<e.length;t++);null!==document.getElementById("cke_1_contents")&&(document.getElementById("cke_1_contents").style.height="16cm !important"),null!==document.getElementById("cke_2_contents")&&(document.getElementById("cke_2_contents").style.height="16cm !important")}},{key:"remove_4_layout_classes",value:function(){document.querySelectorAll("iframe").forEach(function(e){e.classList.remove("iframe_2_layout")}),null!==document.getElementById("cke_1_contents")&&document.getElementById("cke_1_contents").classList.remove("iframe_4_layout"),null!==document.getElementById("cke_2_contents")&&document.getElementById("cke_2_contents").classList.remove("iframe_4_layout"),null!==document.getElementById("cke_3_contents")&&document.getElementById("cke_3_contents").classList.remove("iframe_4_layout"),null!==document.getElementById("cke_4_contents")&&document.getElementById("cke_4_contents").classList.remove("iframe_4_layout")}},{key:"remove_2_layout_classes",value:function(){document.querySelectorAll("iframe").forEach(function(e){e.classList.remove("iframe_2_layout")}),null!==document.getElementById("cke_1_contents")&&document.getElementById("cke_1_contents").classList.remove("inside_one_from_layout2"),null!==document.getElementById("cke_2_contents")&&document.getElementById("cke_2_contents").classList.remove("inside_one_from_layout2"),null!==document.getElementById("cke_3_contents")&&document.getElementById("cke_3_contents").classList.remove("inside_one_from_layout2"),null!==document.getElementById("cke_4_contents")&&document.getElementById("cke_4_contents").classList.remove("inside_one_from_layout2")}},{key:"add_1_layout_classes",value:function(){console.log(this.state.layout_number);var e=document.getElementsByTagName("iframe");console.log(e);for(var t=0;t<e.length;t++)e[t].classList.add("iframe_2_layout");null!==document.getElementById("cke_1_contents")&&document.getElementById("cke_1_contents").classList.add("inside_one_from_layout2"),null!==document.getElementById("cke_2_contents")&&document.getElementById("cke_2_contents").classList.add("inside_one_from_layout2"),null!==document.getElementById("cke_3_contents")&&document.getElementById("cke_3_contents").classList.add("inside_one_from_layout2"),null!==document.getElementById("cke_4_contents")&&document.getElementById("cke_4_contents").classList.add("inside_one_from_layout2")}},{key:"changeLayout",value:function(e){switch(e){case"1":window.CKEDITOR.config.height="35cm",this.setState({layout_number:"1"}),this.remove_4_layout_classes(),this.add_1_layout_classes(),this.fillLayoutDisplayArr([1,5,5,5]);break;case"2":window.CKEDITOR.config.height="35cm",this.setState({layout_number:"2"}),this.remove_4_layout_classes(),this.fillLayoutDisplayArr([2,2,5,5]),this.add_2_layout_classes();break;case"4":window.CKEDITOR.config.height="16cm",this.setState({layout_number:"4"}),this.remove_2_layout_classes(),this.add_4_layout_classes(),this.fillLayoutDisplayArr([4,4,4,4])}}},{key:"convert_from_2_layout_to_4_layout",value:function(){for(var e=document.querySelectorAll(".one_from_layout4"),t=0;t<2;t++)e[t].classList.remove("one_from_layout4"),e[t].classList.add("one_from_layout2");for(var a=2;a<4;a++)e[a].classList.remove("one_from_layout4"),e[a].classList.add("display_none")}},{key:"_handleTemplateChange",value:function(e){this.setState({selected_file_name:e.target.value}),console.log(e.target.value),this.GetTampleteFromDBEdit(e.target.value),this.GetTampleteFromDBEdit(e.target.value)}},{key:"fillLayoutDisplayArr",value:function(e){K[0]=e[0],K[1]=e[1],K[2]=e[2],K[3]=e[3]}},{key:"handleChange",value:function(e){console.log(e.target.value),this.setState({Condition:e.target.value})}},{key:"AddPartForm",value:function(e){var t=this;console.log(e.target.innerHTML),p.a.get(I+"GetPartTemplate?PartTemplateName="+e.target.innerHTML).then(function(e){console.log(e.data);var a=window.CKEDITOR.instances["editor"+t.state.SelectLayoutPartFormAdd].getData();window.CKEDITOR.instances["editor"+t.state.SelectLayoutPartFormAdd].setData(e.data+a)}).catch(function(e){console.log(e)})}},{key:"SaveQueryChanges",value:function(e){console.log("SaveQueryChanges",e),this.setState({popUpMakeQuery:e})}},{key:"ClearQuery",value:function(){this.setState({popUpMakeQuery:""})}},{key:"get_query_tables_params",value:function(){var e=this;p.a.get(I+"GetQueryFields").then(function(t){console.log(t.data),e.setState({QueryFields:t.data}),console.log(e.state)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e,t=this;return console.log(this.state),l.a.createElement("div",{className:"container"},l.a.createElement(H,{SaveQueryChanges:this.SaveQueryChanges,QueryFields:this.state.QueryFields}),l.a.createElement(U,null),l.a.createElement("div",{className:"row"}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{id:"top2"})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-2 blueBg"},l.a.createElement("div",{className:"row top"},"\u05d4\u05d5\u05e1\u05e3 \u05d7\u05dc\u05e7 \u05de\u05d8\u05d5\u05e4\u05e1"),l.a.createElement("div",{className:"row contacts",style:{display:"block",margin:0}},l.a.createElement("div",{className:"contacts_padding"},l.a.createElement("select",{name:"cars",size:"7",style:{width:"90%"}},l.a.createElement("option",null,"gdf hgfh"),l.a.createElement("option",null,"2222"),l.a.createElement("option",null,"7777")),l.a.createElement("button",(e={type:"button",className:"btn btn-primary"},Object(N.a)(e,"className","btnAddNewPart"),Object(N.a)(e,"onClick",this.AddPartForm),e),"\u05d4\u05d5\u05e1\u05e3 \u05d7\u05dc\u05e7 \u05d8\u05de\u05e4\u05dc\u05d8 \u05e7\u05d9\u05d9\u05dd"),l.a.createElement("hr",null)))),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("div",{className:"one_from_layout1"},l.a.createElement("textarea",{name:"content",onDrop:function(e){return t.onDrop(e)},id:"editor1",defaultValue:this.props.data}))),l.a.createElement("div",{className:"col-sm-2 blueBg"},l.a.createElement("div",{className:"row top"},l.a.createElement("label",{className:"ChooseTamplateHeadline"},"\u05d1\u05d7\u05e8 \u05d8\u05de\u05e4\u05dc\u05d8 \u05de\u05ea\u05d1\u05e0\u05d9\u05ea \u05e7\u05d9\u05d9\u05de\u05ea:")),l.a.createElement("div",{className:"row no_margin_select_row"},l.a.createElement("div",{className:"col-sm-12"},l.a.createElement("select",{name:"files",size:"7",style:{width:"100%"},onChange:this._handleTemplateChange},this.state.TampleteNameList)),l.a.createElement("button",{onClick:function(){return t.makeTables()},className:"showTamplateBtn"}," \u05e6\u05d5\u05e8 \u05d8\u05d5\u05e4\u05e1")))))}}]),t}(l.a.Component),x=Object(r.b)(function(e,t){return console.log(e.PartTemplateHttpReducer.part_tamplate),e.PartTemplateHttpReducer.part_tamplate,{ConversionTableFields:e.HttpReducer.ConversionTableFields,tamplate:e.HttpReducer.tamplate,data4:e.HttpReducer.data4,object_fields:e.HttpReducer.object_fields,field:e.HttpReducer.fields,id:e.HttpReducer.id,tampletes_name:e.HttpReducer.tampletes_name,part_tamplate:e.PartTemplateHttpReducer.part_tamplate}},function(e,t){return{GetConversionTable:function(t){e(function(e){p.a.get("http://localhost:8000/App/api/reportApp/GetConversionTable").then(function(t){e({type:"GET_CONVERSION_TABLE",payload:t})}).catch(function(t){e({type:"FETCH_ERROR",payload:t})})})},GetAllTemplatesNames:function(){e(function(e){p.a.get(I+"GetAllTemplatesNames").then(function(t){e({type:"GET_TAMPLETS_NAMES",payload:t})}).catch(function(t){e({type:"FETCH_ERROR",payload:t})})})},GetTampleteDapitHttp:function(t){e(Q(""))},GetTampleteHttpTamplete:function(t){e(Q(""))},GetPartTampleteHttp:function(t){var a;e((a=t,console.log(a),function(){var e=Object(j.a)(P.a.mark(function e(t){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:p.a.get("http://localhost:7000/rest/ReportApp/GetPartTemplate").then(function(e){console.log(e),t({type:"GET_PART_TAMPLETE",payload:e})}).catch(function(e){t({type:"FETCH_ERROR",payload:e})});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()))}}})(V),q=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(C.a)(this,Object(O.a)(t).call(this,e))).state={open:!1,tamplateName:"",Query:""},a}return Object(w.a)(t,e),Object(T.a)(t,[{key:"getTemplateName",value:function(){var e=this.props.location.search.search("Query"),t=this.props.location.search.search("FileName"),a=this.props.location.search.substr(t,e-2).replace(/%20/g," ");return a=a.replace("FileName=",""),console.log("77777777777",a),console.log(decodeURIComponent(a.replace(/\+/g," "))),a=decodeURIComponent(a.replace(/\+/g," "))}},{key:"getQueryValue",value:function(){var e=this.props.location.search.search("Query"),t=this.props.location.search.substr(e,this.props.location.search.length).replace(/%20/g," ");return t=t.replace("Query=",""),console.log("77777777777",t),t=decodeURIComponent(t.replace(/\+/g," "))}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(x,{name:"momo",tamplate:"<p>Hello from CKEditor 5</p>",data:"",tamplateName:this.getTemplateName(),Query:this.getQueryValue()}))}}]),t}(l.a.Component),z=document.getElementById("root");s.a.render(l.a.createElement(r.a,{store:_},l.a.createElement(f.a,{basename:"/build"},l.a.createElement(b.a,null,l.a.createElement(E.a,{exact:!0,path:"/",component:q})))),z)}},[[38,2,1]]]);
//# sourceMappingURL=main.552e20da.chunk.js.map